
<div data-component="models-editor" class="fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4">
  <div class="bg-stone-900 w-full max-w-5xl h-[85vh] rounded-xl border border-stone-700 shadow-2xl flex flex-col overflow-hidden">

    <!-- Header -->
    <div class="flex items-center justify-between p-4 border-b border-stone-800 bg-stone-900">
        <div class="flex items-center space-x-3">
        <div class="p-2 bg-indigo-600 rounded-lg">
          <i data-lucide="settings" style="width:20px;height:20px"></i>
        </div>
        <h2 class="text-xl font-bold text-stone-200">Settings</h2>
      </div>
      <button data-action="modal-close" class="text-stone-500 hover:text-stone-300 p-2 rounded" title="Close">
        <i data-lucide="x" style="width:18px;height:18px"></i>
      </button>
    </div>

    <div class="flex flex-1 overflow-hidden">
      <!-- Sidebar Tabs -->
      <div class="w-64 bg-stone-950 border-r border-stone-800 p-4 flex flex-col space-y-2">
        <button data-action="tab-projects" class="flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium bg-stone-800 text-indigo-400 border border-stone-700">
          <i data-lucide="hard-drive" style="width:16px;height:16px"></i>
          <span>Projects</span>
        </button>
        <button data-action="tab-machine" class="flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium text-stone-400 hover:text-stone-200 hover:bg-stone-900">
          <i data-lucide="cpu" style="width:16px;height:16px"></i>
          <span>Machine Settings</span>
        </button>
      </div>

      <!-- Content -->
      <div class="flex-1 overflow-y-auto bg-stone-900 text-sm p-6 md:p-8">
        <!-- Projects Tab -->
        <div data-tab="projects" class="space-y-6">
          <div class="flex justify-between items-center mb-6">
            <div>
              <h3 class="text-2xl font-bold text-stone-200 mb-1">Your Projects</h3>
              <p class="text-stone-500 text-sm">Manage your stories and creative works.</p>
            </div>
            <div>
              <input name="new_project_name" placeholder="New project name" class="bg-stone-950 border border-stone-700 rounded px-3 py-2 text-sm text-white" />
              <button data-action="create-project" class="ml-2 px-3 py-2 bg-indigo-600 text-white rounded">Create</button>
            </div>
          </div>

          <div data-project-list class="grid gap-3"></div>
        </div>

        <!-- Machine Tab -->
        <div data-tab="machine" class="hidden">
          <div class="flex h-full gap-6">
            <div class="w-1/3 border-r border-stone-800 pr-6 overflow-y-auto">
              <div class="flex justify-between items-center mb-4">
                <h3 class="font-bold text-stone-300">Providers</h3>
                <button type="button" data-action="add-model" aria-label="Add provider" class="p-1 rounded bg-stone-800 text-stone-400 hover:text-indigo-400">
                  <i data-lucide="plus" style="width:16px;height:16px"></i>
                </button>
              </div>
              <div data-models-list class="space-y-2"></div>
            </div>
            <div class="flex-1 overflow-y-auto pl-2 pr-2">
              <!-- Config form is rendered from JS when provider selected -->
              <div id="provider-config" class="text-stone-500">Select a provider to configure</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="p-4 border-t border-stone-800 bg-stone-900 flex justify-end">
      <button data-action="save" class="px-4 py-2 bg-indigo-600 text-white rounded flex items-center gap-2">
        <i data-lucide="save" style="width:16px;height:16px"></i>
        <span>Save & Close</span>
      </button>
    </div>
  </div>
</div>

